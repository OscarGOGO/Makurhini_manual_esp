<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Estadísticas de fragmentación del paisaje | Manual de uso de Makurhini</title>
<meta name="author" content="Oscar Godínez Gómez">
<meta name="description" content="Exploraremos la función MK_Fragmentation() para caracterizar la composición y la configuración espacial de los parches en nuestro paisaje. La función calcula ocho métricas a nivel de nodo (como el...">
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="Chapter 2 Estadísticas de fragmentación del paisaje | Manual de uso de Makurhini">
<meta property="og:type" content="book">
<meta property="og:url" content="https://oscargogo.github.io/Makurhini_manual_esp/estadísticas-de-fragmentación-del-paisaje.html">
<meta property="og:image" content="https://oscargogo.github.io/Makurhini_manual_esp/LOGO_MAKHURINI.png">
<meta property="og:description" content="Exploraremos la función MK_Fragmentation() para caracterizar la composición y la configuración espacial de los parches en nuestro paisaje. La función calcula ocho métricas a nivel de nodo (como el...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Estadísticas de fragmentación del paisaje | Manual de uso de Makurhini">
<meta name="twitter:description" content="Exploraremos la función MK_Fragmentation() para caracterizar la composición y la configuración espacial de los parches en nuestro paisaje. La función calcula ocho métricas a nivel de nodo (como el...">
<meta name="twitter:image" content="https://oscargogo.github.io/Makurhini_manual_esp/LOGO_MAKHURINI.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Manual de uso de Makurhini</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Makurhini</a></li>
<li><a class="" href="instalaci%C3%B3n-del-paquete-makurhini.html"><span class="header-section-number">1</span> Instalación del paquete Makurhini</a></li>
<li><a class="active" href="estad%C3%ADsticas-de-fragmentaci%C3%B3n-del-paisaje.html"><span class="header-section-number">2</span> Estadísticas de fragmentación del paisaje</a></li>
<li><a class="" href="%C3%ADndices-de-centralidad.html"><span class="header-section-number">3</span> Índices de centralidad</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/OscarGOGO/Makurhini_manual_esp">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="estadísticas-de-fragmentación-del-paisaje" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Estadísticas de fragmentación del paisaje<a class="anchor" aria-label="anchor" href="#estad%C3%ADsticas-de-fragmentaci%C3%B3n-del-paisaje"><i class="fas fa-link"></i></a>
</h1>
<p>Exploraremos la función <strong><code><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation()</a></code></strong> para caracterizar la composición y la configuración espacial de los parches en nuestro paisaje.</p>
<p>La función calcula <strong>ocho métricas a nivel de nodo</strong> (como el área de nodo, el porcentaje de borde y la dimensión fractal) y <strong>13 estadísticas de fragmentación a nivel de paisaje</strong> (como el número de nodos, el tamaño medio, la densidad de borde y el tamaño efectivo de la malla).</p>
<p>Las entradas incluyen un <strong>objeto vectorial</strong> que representa los nodos del paisaje y un parámetro que define la distancia o profundidad de la influencia del borde (es decir, la distancia al borde del nodo).</p>
<p>Los resultados consisten en un <strong>archivo vectorial tipo poligonal</strong> que contiene métricas a nivel de nodo y <strong>una tabla</strong> que detalla las métricas a nivel de paisaje.</p>
<div id="inputs" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Inputs<a class="anchor" aria-label="anchor" href="#inputs"><i class="fas fa-link"></i></a>
</h2>
<p>Usaremos la librerias sf, para trabajar con un shapefile que contiene 404 parches de vegetación con la menor alteración o signos de degradación en un estado de México llamado Michoacán. Tambien cargaremos el paisaje de estudio donde se encuentran los parches y que fue delimitado usando el limite politico del estado y la región fisiográfica denominada Eje Neovolcánico.</p>
<p>El shapefile lo pueden encontrar en la siguiente carpeta del drive:</p>
<p><a href="https://drive.google.com/drive/folders/1yJcxk2JsEfVjqBx7QM6SV5sIbq7YD1iX?usp=sharing" class="uri">https://drive.google.com/drive/folders/1yJcxk2JsEfVjqBx7QM6SV5sIbq7YD1iX?usp=sharing</a></p>
<pre><code>#&gt; Cargando paquete requerido: igraph
#&gt; 
#&gt; Adjuntando el paquete: 'igraph'
#&gt; The following objects are masked from 'package:stats':
#&gt; 
#&gt;     decompose, spectrum
#&gt; The following object is masked from 'package:base':
#&gt; 
#&gt;     union
#&gt; Cargando paquete requerido: cppRouting
#&gt; Linking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1;
#&gt; sf_use_s2() is TRUE
#&gt; [1] 404</code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/connectscape/Makurhini">Makurhini</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">habitat_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf</a></span><span class="op">(</span><span class="st">"C:/Users/habitat_nodes.shp"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">habitat_nodes</span><span class="op">)</span></span>
<span><span class="va">paisaje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf</a></span><span class="op">(</span><span class="st">"C:/Users/paisaje.shp"</span><span class="op">)</span></span></code></pre></div>
<p>Para gráficarlo necesitamos ggplot2, favor de instalarlo si no lo tiene entre sus paquetes.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="estad%C3%ADsticas-de-fragmentaci%C3%B3n-del-paisaje.html#cb15-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>), dependencies <span class="ot">=</span> <span class="cn">TRUE</span><span class="er">)</span></span>
<span id="cb15-2"><a href="estad%C3%ADsticas-de-fragmentaci%C3%B3n-del-paisaje.html#cb15-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"RColorBrewer"</span>), dependencies <span class="ot">=</span> <span class="cn">TRUE</span><span class="er">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">habitat_nodes</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Parches"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">"forestgreen"</span>, linewidth <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">""</span>, values <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>En caso de necesitar abrir otro vector (e.g., .shp, .gpkg) necesitan usar la fución <code><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf()</a></code> del paquete <code>sf</code>, la función <code>shapefile()</code> del paquete <code>raster</code>, o la funcion <code>vect()</code> del paquete <code>terra</code>.</p>
<p>Para abrirlo solo necesitan colocar la dirección de su archivo, el nombre y la extensión, ejemplo:</p>
<ul>
<li><p><code>vegetation_patches &lt;- sf::read_sf("D:/Datos/vegetation_patches.shp")</code></p></li>
<li><p><code>vegetation_patches &lt;- raster::shapefile("D:/Datos/vegetation_patches.shp")</code></p></li>
<li><p><code>vegetation_patches &lt;- terra::vect("D:/Datos/vegetation_patches.shp")</code></p></li>
</ul>
<p>Para definir el borde usaremos una distancia de 500 m a partir del límite de los parches (Haddad et al. 2015).</p>
<div class="inline-figure"><img src="Imagen1.png" width="503"></div>
</div>
<div id="funcion" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Funcion<a class="anchor" aria-label="anchor" href="#funcion"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation</a></span><span class="op">(</span></span>
<span>  nodes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edge_distance <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  min_node_area <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  landscape_area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  area_unit <span class="op">=</span> <span class="st">"ha"</span>,</span>
<span>  perimeter_unit <span class="op">=</span> <span class="st">"km"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  write <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Los argumento de la función que usaremos son:</p>
<ul>
<li>
<em>nodes</em> = objeto con los parches,</li>
<li>
<em>edge_distance</em> = profundidad del efecto de borde.</li>
<li>
<em>min_node_area</em> = Área mínima del nodo utilizada para calcular el número de nodos con un área menor a la proporcionada. Por defecto igual a 100 km² (Haddad et al. 2015).</li>
<li>
<em>landscape_area</em> = Área total del paisaje de estudio (opcional). Si se deja como NULL, se utilizará el área total de los nodos. La unidad de área debe ser igual a la seleccionada en el párametro <em>area_unit</em>.</li>
<li>
<em>area_unit</em> = Puedes establecer una unidad de área (por ejemplo, “km2”, “cm2”, “m2”, “ha”; ver unit_convert). Por defecto es kilómetros cuadrados “km2”.</li>
<li>
<em>perimeter_unit</em> = Puedes establecer una unidad de perímetro (por ejemplo, “km”, “cm”, “m”, “ha”; ver unit_convert). Por defecto es kilómetros “km”.</li>
<li>
<em>plot</em> = Genera histogramas básicos y un mapa de área núcleo - borde.</li>
<li>
<em>write</em> = Guarda la tabla (estadísticas del paisaje), el objeto sf (estadísticas de parches/nodos) y las gráficas. Es necesario especificar la ruta y el prefijo. Por ejemplo, para guardar en la ruta “C:/Folder” con el prefijo “Fragmentation”: “C:/Folder/Fragmentation”</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="ejercicio-1" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Ejercicio 1<a class="anchor" aria-label="anchor" href="#ejercicio-1"><i class="fas fa-link"></i></a>
</h2>
<p>Estimamos el área del paisaje de estudio.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">area_paisaje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">paisaje</span><span class="op">)</span> </span>
<span><span class="va">area_paisaje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/unit_convert.html">unit_convert</a></span><span class="op">(</span><span class="va">area_paisaje</span>, <span class="st">"m2"</span>, <span class="st">"ha"</span><span class="op">)</span> </span></code></pre></div>
<p>Aplicamos la función.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fragmentacion</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">habitat_nodes</span>, </span>
<span>                                  edge_distance <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                                  min_node_area <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                                  landscape_area <span class="op">=</span> <span class="va">area_paisaje</span>,</span>
<span>                                  area_unit <span class="op">=</span> <span class="st">"ha"</span>,</span>
<span>                                  perimeter_unit <span class="op">=</span> <span class="st">"km"</span>,</span>
<span>                                  plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-8-1.png" width="672"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-8-2.png" width="672"></p>
<div id="estadisticos-a-nivel-de-parche" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Estadisticos a nivel de parche<a class="anchor" aria-label="anchor" href="#estadisticos-a-nivel-de-parche"><i class="fas fa-link"></i></a>
</h3>
<p>El primer resultado “Patch statistics shapefile” es un shapefile con estadísticos de fragmentación a nivel de parche.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span></span>
<span><span class="co">#&gt; Simple feature collection with 404 features and 9 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -108954 ymin: 2025032 xmax: 202330.2 ymax: 2198936</span></span>
<span><span class="co">#&gt; Projected CRS: NAD_1927_Albers</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;    Id       Area        CA CAPercent Perimeter EdgePercent</span></span>
<span><span class="co">#&gt; 1   1    85.8368     0.000    0.0000     5.989    100.0000</span></span>
<span><span class="co">#&gt; 2   2   220.2168     0.000    0.0000    11.346    100.0000</span></span>
<span><span class="co">#&gt; 3   3 11019.9668  5337.795   48.4375   184.969     51.5625</span></span>
<span><span class="co">#&gt; 4   4   121.0018     0.000    0.0000     6.974    100.0000</span></span>
<span><span class="co">#&gt; 5   5   184.7226     0.000    0.0000    14.452    100.0000</span></span>
<span><span class="co">#&gt; 6   6    26.3052     0.000    0.0000     4.685    100.0000</span></span>
<span><span class="co">#&gt; 7   7    43.4931     0.000    0.0000     6.066    100.0000</span></span>
<span><span class="co">#&gt; 8   8    57.5414     0.000    0.0000     8.119    100.0000</span></span>
<span><span class="co">#&gt; 9   9   203.4670     0.000    0.0000    14.309    100.0000</span></span>
<span><span class="co">#&gt; 10 10 29440.4346 12326.275   41.8685   444.203     58.1315</span></span>
<span><span class="co">#&gt;       PARA ShapeIndex   FRAC                       geometry</span></span>
<span><span class="co">#&gt; 1  14.3324     0.1824 0.8040 POLYGON ((54911.05 2035815,...</span></span>
<span><span class="co">#&gt; 2  19.4092     0.2157 0.9005 POLYGON ((44591.28 2042209,...</span></span>
<span><span class="co">#&gt; 3  59.5774     0.4971 1.1217 POLYGON ((46491.11 2042467,...</span></span>
<span><span class="co">#&gt; 4  17.3504     0.1788 0.8100 POLYGON ((54944.49 2048163,...</span></span>
<span><span class="co">#&gt; 5  12.7818     0.3000 1.0235 POLYGON ((80094.28 2064140,...</span></span>
<span><span class="co">#&gt; 6   5.6148     0.2577 0.9446 POLYGON ((69205.24 2066394,...</span></span>
<span><span class="co">#&gt; 7   7.1700     0.2595 0.9557 POLYGON ((68554.2 2066632, ...</span></span>
<span><span class="co">#&gt; 8   7.0873     0.3019 1.0335 POLYGON ((69995.53 2066880,...</span></span>
<span><span class="co">#&gt; 9  14.2195     0.2830 1.0012 POLYGON ((79368.68 2067324,...</span></span>
<span><span class="co">#&gt; 10 66.2770     0.7303 1.1849 POLYGON ((23378.32 2067554,...</span></span></code></pre></div>
<p>Son espacialmente explicitos y podemos visualizarlos con librerias como ggplot2</p>
<ul>
<li>% de área núcleo:</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CAPercent</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"RdYlGn"</span>,</span>
<span>    direction <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"% Área Núcleo"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"% Área Núcleo"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
<ul>
<li>% de borde</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">EdgePercent</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"RdYlGn"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"% Borde"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"% Borde"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-11-1.png" width="672"></div>
<ul>
<li>Perimeter</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">Perimeter</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"RdYlGn"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"Perímetro"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Perímetro"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-12-1.png" width="672"></div>
<ul>
<li>Perimeter-Area Ratio</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">PARA</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"RdYlGn"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"PARA"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"PARA"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-13-1.png" width="672"></div>
<ul>
<li>Shape Index</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ShapeIndex</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"PiYG"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"Shape Index"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Shape Index"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-14-1.png" width="672"></div>
<ul>
<li>Fractal Dimension Index</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Patch statistics shapefile`</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">FRAC</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"PiYG"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"FRAC"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Fragmentación a nivel de parche"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"FRAC"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-15-1.png" width="672"></div>
</div>
<div id="estadísticos-a-nivel-de-paisaje" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> Estadísticos a nivel de paisaje<a class="anchor" aria-label="anchor" href="#estad%C3%ADsticos-a-nivel-de-paisaje"><i class="fas fa-link"></i></a>
</h3>
<p>Los resultados se presentan a manera de una lista, el primer resultado se llama “Summary landscape metrics (Viewer Panel)” y tiene estadisticos de fragmentación a nivel de paisaje.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">Fragmentacion</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="va">Fragmentacion</span><span class="op">$</span><span class="va">`Summary landscape metrics (Viewer Panel)`</span></span></code></pre></div>
<div class="inline-table"><table class="table table-condensed">
<thead><tr>
<th style="text-align:left;">
Metric
</th>
<th style="text-align:center;">
Value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Patch area (ha)
</td>
<td style="text-align:center;">
1273573.9249
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of patches
</td>
<td style="text-align:center;">
404.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
Size (mean)
</td>
<td style="text-align:center;">
3152.4107
</td>
</tr>
<tr>
<td style="text-align:left;">
Patches &lt; minimum patch area
</td>
<td style="text-align:center;">
40.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
Patches &lt; minimum patch area (%)
</td>
<td style="text-align:center;">
0.1992
</td>
</tr>
<tr>
<td style="text-align:left;">
Total edge
</td>
<td style="text-align:center;">
17920.4740
</td>
</tr>
<tr>
<td style="text-align:left;">
Edge density
</td>
<td style="text-align:center;">
0.0141
</td>
</tr>
<tr>
<td style="text-align:left;">
Patch density
</td>
<td style="text-align:center;">
0.0146
</td>
</tr>
<tr>
<td style="text-align:left;">
Total Core Area (ha)
</td>
<td style="text-align:center;">
631595.3522
</td>
</tr>
<tr>
<td style="text-align:left;">
Cority
</td>
<td style="text-align:center;">
0.6064
</td>
</tr>
<tr>
<td style="text-align:left;">
Shape Index (mean)
</td>
<td style="text-align:center;">
0.2207
</td>
</tr>
<tr>
<td style="text-align:left;">
FRAC (mean)
</td>
<td style="text-align:center;">
0.8536
</td>
</tr>
<tr>
<td style="text-align:left;">
MESH (ha)
</td>
<td style="text-align:center;">
66572.5742
</td>
</tr>
</tbody>
</table></div>
<p><img src="5.png"><img src="6.png"><img src="7.png"></p>
<p>La densidad de malla efectiva (MESH) es una medida del grado en que el movimiento entre diferentes partes del paisaje se ve interrumpido por una Fragmentación. El índice MESH se ha popularizado debido a su facilidad de interpretación. Si conocemos el área de nuestro paisaje, entonces podemos estimar el porcentage de fragmentación:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mesh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">Fragmentacion</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">mesh</span> <span class="op">&lt;-</span> <span class="va">mesh</span><span class="op">[</span><span class="fl">13</span>,<span class="fl">2</span><span class="op">]</span></span>
<span><span class="va">mesh_porcentage</span> <span class="op">&lt;-</span>  <span class="op">(</span><span class="va">area_paisaje</span> <span class="op">-</span> <span class="va">mesh</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">/</span> <span class="va">area_paisaje</span> </span>
<span><span class="va">mesh_porcentage</span></span>
<span><span class="co">#&gt; [1] 97.58915</span></span></code></pre></div>
</div>
</div>
<div id="ejercicio-2" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Ejercicio 2<a class="anchor" aria-label="anchor" href="#ejercicio-2"><i class="fas fa-link"></i></a>
</h2>
<p>Hagamos un loop en donde exploramos distintas distancias de profundidad del efecto borde.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Loop edge distance</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/">purrr</a></span><span class="op">)</span></span>
<span><span class="va">Fragmentacion.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html">map_dfr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">habitat_nodes</span>, </span>
<span>                          edge_distance <span class="op">=</span> <span class="va">x</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">CA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">CAPercent</span><span class="op">)</span></span>
<span>  <span class="va">Edge</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">EdgePercent</span><span class="op">)</span></span>
<span>  <span class="va">x.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">'Edge distance'</span> <span class="op">=</span> <span class="va">x</span>, Type <span class="op">=</span> <span class="st">"Core Area"</span>, Percentage <span class="op">=</span> <span class="va">CA</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">'Edge distance'</span> <span class="op">=</span> <span class="va">x</span>, Type <span class="op">=</span> <span class="st">"Edge"</span>, Percentage <span class="op">=</span> <span class="va">Edge</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.2</span><span class="op">)</span></span>
<span><span class="op">}</span>, .progress <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">Fragmentacion.2</span> </span></code></pre></div>
<pre><code>#&gt;    Edge.distance      Type Percentage
#&gt; 1            100 Core Area  65.761207
#&gt; 2            100      Edge  34.238793
#&gt; 3            200 Core Area  41.980654
#&gt; 4            200      Edge  58.019346
#&gt; 5            300 Core Area  26.853211
#&gt; 6            300      Edge  73.146789
#&gt; 7            400 Core Area  18.110913
#&gt; 8            400      Edge  81.889087
#&gt; 9            500 Core Area  12.863545
#&gt; 10           500      Edge  87.136455
#&gt; 11           600 Core Area   9.554117
#&gt; 12           600      Edge  90.445883
#&gt; 13           700 Core Area   7.347448
#&gt; 14           700      Edge  92.652552
#&gt; 15           800 Core Area   5.767296
#&gt; 16           800      Edge  94.232704
#&gt; 17           900 Core Area   4.564680
#&gt; 18           900      Edge  95.435320
#&gt; 19          1000 Core Area   3.633780
#&gt; 20          1000      Edge  96.366220</code></pre>
<p>El porcentaje promedio de área núcleo (ausencia de efecto de borde) para todos los parches disminuye en más del 70% cuando se considera un efecto de borde con una penetración de 1 km.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Distancia de profundidad</th>
<th align="center">%Área Núcleo</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>100</td>
<td align="center">65.76%</td>
</tr>
<tr class="even">
<td>500</td>
<td align="center">12.86%</td>
</tr>
<tr class="odd">
<td>1000</td>
<td align="center">3.63%</td>
</tr>
</tbody>
</table></div>
<p>Podemos gráficar el promedio del porcentaje de área npucleo de los parches y el porcentaje del borde de los parches (%área núcleo + % de borde = 100%).</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">Fragmentacion.2</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Edge.distance</span>, y<span class="op">=</span><span class="va">Percentage</span>, group<span class="op">=</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color<span class="op">=</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color<span class="op">=</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span><span class="st">"Distancia"</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">Fragmentacion.2</span><span class="op">$</span><span class="va">Edge.distance</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="va">Fragmentacion.2</span><span class="op">$</span><span class="va">Edge.distance</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Dark2"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-20-1.png" width="672"></div>
</div>
<div id="ejercicio-3" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Ejercicio 3<a class="anchor" aria-label="anchor" href="#ejercicio-3"><i class="fas fa-link"></i></a>
</h2>
<p>Ahora probemos los alcances de la función estimando el índice MESH sobre un grid.</p>
<p>Grid de 40 km2</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Grid_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/make_grid.html">make_grid</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">paisaje</span>, hexagonal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                  cell_area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/unit_convert.html">unit_convert</a></span><span class="op">(</span><span class="fl">40</span>, <span class="st">"km2"</span>, <span class="st">"m2"</span><span class="op">)</span>,</span>
<span>                  clip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">Grid_test</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-21-1.png" width="672"></div>
<p>Estimar MESH usando un loop sencillo tipo <code>for()</code></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Variable dummy</span></span>
<span><span class="va">Grid_test</span><span class="op">$</span><span class="va">MESH</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">i</span>, <span class="st">" de "</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">grid.i</span> <span class="op">&lt;-</span> <span class="va">Grid_test</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span></span>
<span>  <span class="va">nodes.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html">st_intersection</a></span><span class="op">(</span><span class="va">habitat_nodes</span>, <span class="va">grid.i</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">nodes.i</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">area_paisaje.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">grid.i</span><span class="op">)</span></span>
<span>    <span class="va">area_paisaje.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/unit_convert.html">unit_convert</a></span><span class="op">(</span><span class="va">area_paisaje.i</span>, <span class="st">"m2"</span>, <span class="st">"ha"</span><span class="op">)</span></span>
<span>    <span class="va">Fragmentacion.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Makurhini/man/MK_fragmentation.html">MK_Fragmentation</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">nodes.i</span>, </span>
<span>                                      edge_distance <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                                      min_node_area <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                                      landscape_area <span class="op">=</span> ,</span>
<span>                                      area_unit <span class="op">=</span> <span class="st">"ha"</span>,</span>
<span>                                      perimeter_unit <span class="op">=</span> <span class="st">"km"</span>,</span>
<span>                                      plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="va">mesh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">Fragmentacion.i</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">mesh</span> <span class="op">&lt;-</span> <span class="va">mesh</span><span class="op">[</span><span class="fl">13</span>,<span class="fl">2</span><span class="op">]</span></span>
<span>    <span class="va">mesh_porcentage</span> <span class="op">&lt;-</span>  <span class="op">(</span><span class="va">area_paisaje.i</span> <span class="op">-</span> <span class="va">mesh</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">/</span><span class="va">area_paisaje.i</span> </span>
<span>    <span class="va">Grid_test</span><span class="op">$</span><span class="va">MESH</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mesh_porcentage</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">Grid_test</span><span class="op">$</span><span class="va">MESH</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Lo podemos visualizar con <code>ggplot2</code></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">paisaje</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Study area"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Grid_test</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">MESH</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"RdYlGn"</span>,</span>
<span>    direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, </span>
<span>    name <span class="op">=</span> <span class="st">"% Fragmentación"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"GRID fragmentación (MESH)"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"% Fragmentación"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-Fragmentacion_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="instalaci%C3%B3n-del-paquete-makurhini.html"><span class="header-section-number">1</span> Instalación del paquete Makurhini</a></div>
<div class="next"><a href="%C3%ADndices-de-centralidad.html"><span class="header-section-number">3</span> Índices de centralidad</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#estad%C3%ADsticas-de-fragmentaci%C3%B3n-del-paisaje"><span class="header-section-number">2</span> Estadísticas de fragmentación del paisaje</a></li>
<li><a class="nav-link" href="#inputs"><span class="header-section-number">2.1</span> Inputs</a></li>
<li><a class="nav-link" href="#funcion"><span class="header-section-number">2.2</span> Funcion</a></li>
<li>
<a class="nav-link" href="#ejercicio-1"><span class="header-section-number">2.3</span> Ejercicio 1</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#estadisticos-a-nivel-de-parche"><span class="header-section-number">2.3.1</span> Estadisticos a nivel de parche</a></li>
<li><a class="nav-link" href="#estad%C3%ADsticos-a-nivel-de-paisaje"><span class="header-section-number">2.3.2</span> Estadísticos a nivel de paisaje</a></li>
</ul>
</li>
<li><a class="nav-link" href="#ejercicio-2"><span class="header-section-number">2.4</span> Ejercicio 2</a></li>
<li><a class="nav-link" href="#ejercicio-3"><span class="header-section-number">2.5</span> Ejercicio 3</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/OscarGOGO/Makurhini_manual_esp/blob/master/02-Fragmentacion.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/OscarGOGO/Makurhini_manual_esp/edit/master/02-Fragmentacion.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Manual de uso de Makurhini</strong>" was written by Oscar Godínez Gómez. It was last built on 2025-07-16.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
